const net = new brain.NeuralNetwork();

const data = [
  { input: { r: 0, g: 0, b: 0 }, output: [1] },
  { input: { r: 1, g: 1, b: 1 }, output: [0] },
  {
    input: {
      r: 0.358582684969005,
      g: 0.8318800564516065,
      b: 0.5142707883442481,
    },
    output: [1],
  },
  {
    input: {
      r: 0.6292890265038487,
      g: 0.08903386651338185,
      b: 0.7487700025026702,
    },
    output: [1],
  },
  {
    input: {
      r: 0.44208000241266143,
      g: 0.9199315481883352,
      b: 0.7736590339960412,
    },
    output: [1],
  },
  {
    input: {
      r: 0.5761820962918269,
      g: 0.051636617961858366,
      b: 0.010976745033457691,
    },
    output: [1],
  },
  {
    input: {
      r: 0.5351428422296285,
      g: 0.06226116686659111,
      b: 0.3417279498907968,
    },
    output: [1],
  },
  {
    input: {
      r: 0.9141195651767731,
      g: 0.9513389239771957,
      b: 0.02595545312993308,
    },
    output: [1],
  },
  {
    input: {
      r: 0.8998458476048659,
      g: 0.1724606514314484,
      b: 0.3216742985595695,
    },
    output: [1],
  },
  {
    input: {
      r: 0.16141180283222778,
      g: 0.5562721441612266,
      b: 0.5771863707191085,
    },
    output: [1],
  },
  {
    input: {
      r: 0.45430498286623067,
      g: 0.5765023772163682,
      b: 0.9338728230409705,
    },
    output: [1],
  },
  {
    input: {
      r: 0.5986215945897533,
      g: 0.17903868666377565,
      b: 0.3037927118988999,
    },
    output: [1],
  },
  {
    input: {
      r: 0.9846437703846247,
      g: 0.7664813352394115,
      b: 0.6558979301506922,
    },
    output: [1],
  },
  {
    input: {
      r: 0.11122375711041532,
      g: 0.7580513328398337,
      b: 0.7901153658529065,
    },
    output: [1],
  },
  {
    input: {
      r: 0.08618439657320875,
      g: 0.7005333225304673,
      b: 0.3652601208449766,
    },
    output: [1],
  },
  {
    input: {
      r: 0.8987243216346474,
      g: 0.6188719449516664,
      b: 0.3965282579855829,
    },
    output: [1],
  },
  {
    input: {
      r: 0.7706287199018069,
      g: 0.03936799374305089,
      b: 0.9856587886018593,
    },
    output: [1],
  },
  {
    input: {
      r: 0.5237182901805311,
      g: 0.2536431824132417,
      b: 0.13323163239976266,
    },
    output: [1],
  },
  {
    input: {
      r: 0.12817274326348338,
      g: 0.27123490335951295,
      b: 0.10362261494352842,
    },
    output: [1],
  },
  {
    input: {
      r: 0.543484548472905,
      g: 0.9751116521773429,
      b: 0.6136804742768038,
    },
    output: [1],
  },
  {
    input: {
      r: 0.7043678541295066,
      g: 0.14246988911263903,
      b: 0.08659380954271012,
    },
    output: [1],
  },
  {
    input: {
      r: 0.4942423463023191,
      g: 0.7016825503904613,
      b: 0.040683958355601346,
    },
    output: [1],
  },
  {
    input: {
      r: 0.12911255321328885,
      g: 0.5845713311603367,
      b: 0.503042245481597,
    },
    output: [0],
  },
  {
    input: {
      r: 0.48066311256412564,
      g: 0.9572722980600283,
      b: 0.022453134756310833,
    },
    output: [0],
  },
  {
    input: {
      r: 0.1695645879233103,
      g: 0.6864516145664421,
      b: 0.7101154556034754,
    },
    output: [0],
  },
  {
    input: {
      r: 0.6585192321323423,
      g: 0.22902311757181182,
      b: 0.060170246904682756,
    },
    output: [0],
  },
  {
    input: {
      r: 0.22078228614413953,
      g: 0.9837646243204663,
      b: 0.990854769468615,
    },
    output: [0],
  },
  {
    input: {
      r: 0.8088986619489975,
      g: 0.4265745130991705,
      b: 0.04517706189823967,
    },
    output: [0],
  },
  {
    input: {
      r: 0.9226545740682586,
      g: 0.7309738828385481,
      b: 0.8492489524547229,
    },
    output: [0],
  },
  {
    input: {
      r: 0.783682545105207,
      g: 0.5070253090151171,
      b: 0.011754905021862827,
    },
    output: [0],
  },
  {
    input: {
      r: 0.5151497131131237,
      g: 0.9501835647351848,
      b: 0.1473160187767355,
    },
    output: [0],
  },
  {
    input: {
      r: 0.37395710181310493,
      g: 0.3835779541390181,
      b: 0.936755159067135,
    },
    output: [0],
  },
  {
    input: {
      r: 0.5428313049701312,
      g: 0.09288364043251773,
      b: 0.6431896954775027,
    },
    output: [0],
  },
  {
    input: {
      r: 0.5071021554722919,
      g: 0.6334974203884336,
      b: 0.5423261714902587,
    },
    output: [0],
  },
  {
    input: {
      r: 0.4448106704040291,
      g: 0.524854003143151,
      b: 0.37577612311257624,
    },
    output: [0],
  },
  {
    input: {
      r: 0.07894753774528662,
      g: 0.043903171656411555,
      b: 0.518172575011943,
    },
    output: [0],
  },
  {
    input: {
      r: 0.7298090706159022,
      g: 0.8896913368678407,
      b: 0.5587166352746264,
    },
    output: [0],
  },
  {
    input: {
      r: 0.2416521688394293,
      g: 0.33035742038728433,
      b: 0.40739059495595487,
    },
    output: [0],
  },
  {
    input: {
      r: 0.7809184767299249,
      g: 0.554017679046924,
      b: 0.4933321720263768,
    },
    output: [0],
  },
  {
    input: {
      r: 0.3874235063070046,
      g: 0.7592471479208263,
      b: 0.9861304001013915,
    },
    output: [0],
  },
  {
    input: {
      r: 0.7586503010751857,
      g: 0.6307142522192593,
      b: 0.9243668987835769,
    },
    output: [0],
  },
  {
    input: {
      r: 0.3582941398130888,
      g: 0.10484572397596947,
      b: 0.3617648025733613,
    },
    output: [0],
  },
  {
    input: {
      r: 0.8512646703310154,
      g: 0.9214759387932596,
      b: 0.2691367226354813,
    },
    output: [0],
  },
  {
    input: {
      r: 0.5077308635101045,
      g: 0.5531139711456527,
      b: 0.018637065148416676,
    },
    output: [0],
  },
  {
    input: {
      r: 0.17649097947879522,
      g: 0.976054169334688,
      b: 0.07229849996361626,
    },
    output: [0],
  },
  {
    input: {
      r: 0.03165672871974046,
      g: 0.8149358974900349,
      b: 0.09988603046674616,
    },
    output: [0],
  },
  {
    input: {
      r: 0.8421917104060885,
      g: 0.917552369150263,
      b: 0.040091778730560135,
    },
    output: [0],
  },
  {
    input: {
      r: 0.4238155544019222,
      g: 0.16706756361346398,
      b: 0.028538734633331675,
    },
    output: [1],
  },
  {
    input: {
      r: 0.7786712548045858,
      g: 0.35712702360685245,
      b: 0.5025420322136029,
    },
    output: [1],
  },
  {
    input: {
      r: 0.1324558230749575,
      g: 0.36389732193135127,
      b: 0.10639410092763546,
    },
    output: [1],
  },
  {
    input: {
      r: 0.4472666031593371,
      g: 0.6578641840411157,
      b: 0.2891407687795149,
    },
    output: [1],
  },
  {
    input: {
      r: 0.8668289480339835,
      g: 0.009438584339446887,
      b: 0.08381912622886745,
    },
    output: [1],
  },
  {
    input: {
      r: 0.8859362554849699,
      g: 0.9171183246392305,
      b: 0.19307139209166446,
    },
    output: [1],
  },
  {
    input: {
      r: 0.8429105339709333,
      g: 0.05744277316488566,
      b: 0.49134095232241903,
    },
    output: [1],
  },
  {
    input: {
      r: 0.8070836951394842,
      g: 0.6959265477451855,
      b: 0.03362291500988501,
    },
    output: [0],
  },
  {
    input: {
      r: 0.2721384759520069,
      g: 0.493048810882186,
      b: 0.24643469067253143,
    },
    output: [0],
  },
  {
    input: {
      r: 0.6176165189573857,
      g: 0.7937382954268895,
      b: 0.8947798834380098,
    },
    output: [0],
  },
  {
    input: {
      r: 0.918715807177755,
      g: 0.45005434615901563,
      b: 0.9111178448538306,
    },
    output: [0],
  },
  {
    input: {
      r: 0.7497940862540637,
      g: 0.45220077291834526,
      b: 0.7879171397170901,
    },
    output: [1],
  },
  {
    input: {
      r: 0.380663377707412,
      g: 0.08367225419357793,
      b: 0.15756957061043741,
    },
    output: [1],
  },
  {
    input: {
      r: 0.7239618917965227,
      g: 0.9014704785175236,
      b: 0.15545266510301925,
    },
    output: [1],
  },
  {
    input: {
      r: 0.8961550166849352,
      g: 0.6817508247450876,
      b: 0.23064034474061867,
    },
    output: [1],
  },
  {
    input: {
      r: 0.49008678317863374,
      g: 0.05333081439738763,
      b: 0.933251573807738,
    },
    output: [1],
  },
  {
    input: {
      r: 0.37648755460311056,
      g: 0.6944308575740556,
      b: 0.39699288645078146,
    },
    output: [1],
  },
  {
    input: {
      r: 0.031532986303393074,
      g: 0.519093145297403,
      b: 0.814488215582575,
    },
    output: [1],
  },
  {
    input: {
      r: 0.37441742966073455,
      g: 0.42217372510693574,
      b: 0.20401132476455164,
    },
    output: [1],
  },
  {
    input: {
      r: 0.7356660237950485,
      g: 0.1642809670312928,
      b: 0.41047739950507145,
    },
    output: [1],
  },
  {
    input: {
      r: 0.724994895285312,
      g: 0.8961278451106554,
      b: 0.07666150448830855,
    },
    output: [1],
  },
  {
    input: {
      r: 0.3028099216976221,
      g: 0.9197661528905989,
      b: 0.7708545195197558,
    },
    output: [1],
  },
  {
    input: {
      r: 0.28459565666007514,
      g: 0.9077162025162839,
      b: 0.875985295038098,
    },
    output: [1],
  },
  {
    input: {
      r: 0.14223422682327835,
      g: 0.22298395505094404,
      b: 0.8608572190226096,
    },
    output: [1],
  },
  {
    input: {
      r: 0.8482921404602488,
      g: 0.41221647561094477,
      b: 0.5739654462114931,
    },
    output: [1],
  },
  {
    input: {
      r: 0.12570474821803201,
      g: 0.3621152557653122,
      b: 0.713929151347739,
    },
    output: [1],
  },
  {
    input: {
      r: 0.05682705574844649,
      g: 0.23203939347612468,
      b: 0.2209045117261461,
    },
    output: [0],
  },
  {
    input: {
      r: 0.19621023784192815,
      g: 0.7694641120260424,
      b: 0.5203950945172808,
    },
    output: [0],
  },
  {
    input: {
      r: 0.057304896139023676,
      g: 0.9898840743014385,
      b: 0.08610199661095219,
    },
    output: [0],
  },
  {
    input: {
      r: 0.022005311565602037,
      g: 0.22960271380693742,
      b: 0.7549420586563242,
    },
    output: [0],
  },
  {
    input: {
      r: 0.4649501501159765,
      g: 0.7919704304000641,
      b: 0.9332036168168234,
    },
    output: [0],
  },
  {
    input: {
      r: 0.7474171645268759,
      g: 0.855552499512672,
      b: 0.6435967388410242,
    },
    output: [0],
  },
  {
    input: {
      r: 0.9687572157854043,
      g: 0.4305516718781397,
      b: 0.26409635955361743,
    },
    output: [0],
  },
  {
    input: {
      r: 0.9580637034392561,
      g: 0.29888212418093985,
      b: 0.687904720127297,
    },
    output: [0],
  },
  {
    input: {
      r: 0.6433458738813527,
      g: 0.4289433329393415,
      b: 0.45903155067589974,
    },
    output: [0],
  },
  {
    input: {
      r: 0.402123510251281,
      g: 0.9093493203282876,
      b: 0.6368904324218252,
    },
    output: [0],
  },
  {
    input: {
      r: 0.0754824097142035,
      g: 0.8978462617388374,
      b: 0.7724987507273298,
    },
    output: [0],
  },
  {
    input: {
      r: 0.3909111339779263,
      g: 0.8912362186108891,
      b: 0.9687772357051956,
    },
    output: [0],
  },
  {
    input: {
      r: 0.7111858922172516,
      g: 0.7192503168214543,
      b: 0.6579378425923661,
    },
    output: [0],
  },
  {
    input: {
      r: 0.9725390564236525,
      g: 0.9588516530960307,
      b: 0.5354852101783465,
    },
    output: [0],
  },
  {
    input: {
      r: 0.9716132305790761,
      g: 0.4745950739907341,
      b: 0.14176877101636376,
    },
    output: [0],
  },
  {
    input: {
      r: 0.9360183117299716,
      g: 0.5671801990371057,
      b: 0.044532711519624124,
    },
    output: [1],
  },
  {
    input: {
      r: 0.5885548652131789,
      g: 0.7045952275764362,
      b: 0.7964578760719037,
    },
    output: [1],
  },
  {
    input: {
      r: 0.6877220643405189,
      g: 0.49939000801918776,
      b: 0.8512979849333979,
    },
    output: [1],
  },
  {
    input: {
      r: 0.2958174858000491,
      g: 0.32442471447789445,
      b: 0.958008519358897,
    },
    output: [1],
  },
  {
    input: {
      r: 0.6613284419326344,
      g: 0.9741961534166181,
      b: 0.4542614391001165,
    },
    output: [1],
  },
  {
    input: {
      r: 0.16619570909297998,
      g: 0.9704787315291918,
      b: 0.11456105842297037,
    },
    output: [0],
  },
  {
    input: {
      r: 0.2620610772656351,
      g: 0.5900737984530653,
      b: 0.8654792353210814,
    },
    output: [0],
  },
  {
    input: {
      r: 0.4712348307984324,
      g: 0.8719811917525868,
      b: 0.7464832181597496,
    },
    output: [1],
  },
  {
    input: {
      r: 0.6924898407389533,
      g: 0.06760777489441705,
      b: 0.8884847478372044,
    },
    output: [0],
  },
  {
    input: {
      r: 0.974945431421457,
      g: 0.49691657992726634,
      b: 0.5673574319189336,
    },
    output: [1],
  },
  {
    input: {
      r: 0.6155216040081024,
      g: 0.07871378610812862,
      b: 0.1204888333674825,
    },
    output: [0],
  },
  {
    input: {
      r: 0.7487309823374988,
      g: 0.7074922418303868,
      b: 0.25771096874767796,
    },
    output: [0],
  },
  {
    input: {
      r: 0.5369891513237954,
      g: 0.5600828267064664,
      b: 0.9231806892423331,
    },
    output: [0],
  },
  {
    input: {
      r: 0.3059132310525188,
      g: 0.3673325758647179,
      b: 0.0909841093587258,
    },
    output: [1],
  },
  {
    input: {
      r: 0.08122150485354429,
      g: 0.416370679200722,
      b: 0.0711714534079384,
    },
    output: [0],
  },
  {
    input: {
      r: 0.8291571945530265,
      g: 0.6771671078774826,
      b: 0.38491548391284236,
    },
    output: [1],
  },
  {
    input: {
      r: 0.7917727257062743,
      g: 0.16938489833562942,
      b: 0.9035021097639342,
    },
    output: [0],
  },
];

net.train(data);

const colorEl = document.getElementById("color");
const guessEl = document.getElementById("guess");
const whiteButton = document.getElementById("white-button");
const blackButton = document.getElementById("black-button");
const printButton = document.getElementById("print-button");
let color;
setRandomColor();

whiteButton.addEventListener("click", () => {
  chooseColor(1);
});

blackButton.addEventListener("click", () => {
  chooseColor(0);
});

printButton.addEventListener("click", print);

function chooseColor(value) {
  data.push({
    input: color,
    output: [value],
  });
  setRandomColor();
}

function print() {
  console.log(JSON.stringify(data));
}

function setRandomColor() {
  color = {
    r: Math.random(),
    g: Math.random(),
    b: Math.random(),
  };
  const guess = net.run(color)[0];
  guessEl.style.color = guess >= 0.5 ? "#FFF" : "#000";
  guessEl.style.border = guess >= 0.5 ? "1px solid white" : "1px solid black";
  colorEl.style.backgroundColor = `rgba(${color.r * 255},${color.g * 255},${
    color.b * 255
  })`;
}
